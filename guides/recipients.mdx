---
title: "Recipients Integration"
description: "Complete guide to managing crypto and fiat recipients with HR API"
---

## Overview

Recipients are the destination addresses for your transfers. This guide covers how to create, manage, and use both crypto and fiat recipients effectively with the HR API.

## Recipient Types

<CardGroup cols={2}>
  <Card title="Crypto Recipients" icon="coins">
    - Blockchain wallet addresses
    - Multiple networks supported
    - USDC, USDT, and other tokens
    - Fast and low-cost transfers
  </Card>
  <Card title="Fiat Recipients" icon="credit-card">
    - Bank account details
    - Local payment methods
    - Multiple currencies supported
    - Traditional banking integration
  </Card>
</CardGroup>

## Supported Networks

### Crypto Networks

<CardGroup cols={2}>
  <Card title="Polygon" icon="network-wired">
    - **USDC**: Fast and low-cost
    - **USDT**: Stablecoin support
    - **Native**: MATIC token
    - **Gas**: Low transaction fees
  </Card>
  <Card title="Ethereum" icon="ethereum">
    - **USDC**: Original stablecoin
    - **USDT**: Tether support
    - **Native**: ETH token
    - **Gas**: Higher fees, more secure
  </Card>
  <Card title="BSC" icon="network-wired">
    - **USDC**: Binance Smart Chain
    - **USDT**: BEP-20 token
    - **Native**: BNB token
    - **Gas**: Low fees, fast transactions
  </Card>
  <Card title="Arbitrum" icon="network-wired">
    - **USDC**: Layer 2 scaling
    - **USDT**: Optimized transfers
    - **Native**: ETH token
    - **Gas**: Reduced fees
  </Card>
</CardGroup>

### Fiat Currencies

<CardGroup cols={2}>
  <Card title="USD" icon="dollar-sign">
    - **ACH Transfers**: Domestic US
    - **Wire Transfers**: International
    - **Processing Time**: 1-3 business days
    - **Fees**: Vary by amount
  </Card>
  <Card title="NGN" icon="naira-sign">
    - **Local Transfers**: Nigerian banks
    - **Processing Time**: Instant to 24 hours
    - **Fees**: Low local fees
    - **Limits**: Local regulations apply
  </Card>
</CardGroup>

## Creating Recipients

### Crypto Recipients

<CodeGroup>

```javascript JavaScript
async function createCryptoRecipient(recipientData) {
  try {
    const response = await fetch('https://api.railsfromthecrypt.com/v1/recipients/crypto', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${accessToken}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        type: 'crypto',
        wallet_address: recipientData.walletAddress,
        network: recipientData.network,
        label: recipientData.label,
        currency: recipientData.currency,
        code: recipientData.code
      })
    });

    if (!response.ok) {
      throw new Error('Failed to create crypto recipient');
    }

    const recipient = await response.json();
    console.log('Crypto recipient created:', recipient);
    
    return recipient;
  } catch (error) {
    console.error('Error creating crypto recipient:', error);
    throw error;
  }
}
```

```python Python
import requests

def create_crypto_recipient(recipient_data):
    try:
        response = requests.post(
            'https://api.railsfromthecrypt.com/v1/recipients/crypto',
            headers={
                'Authorization': f'Bearer {access_token}',
                'Content-Type': 'application/json'
            },
            json={
                'type': 'crypto',
                'wallet_address': recipient_data['wallet_address'],
                'network': recipient_data['network'],
                'label': recipient_data['label'],
                'currency': recipient_data['currency'],
                'code': recipient_data['code']
            }
        )
        
        if not response.ok:
            raise Exception('Failed to create crypto recipient')
        
        recipient = response.json()
        print('Crypto recipient created:', recipient)
        
        return recipient
        
    except Exception as e:
        print(f'Error creating crypto recipient: {e}')
        raise
```

</CodeGroup>

### Fiat Recipients

<CodeGroup>

```javascript JavaScript
async function createFiatRecipient(recipientData) {
  try {
    const response = await fetch('https://api.railsfromthecrypt.com/v1/recipients/fiat', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${accessToken}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        type: 'fiat',
        account_number: recipientData.accountNumber,
        bank_name: recipientData.bankName,
        account_name: recipientData.accountName,
        routing_number: recipientData.routingNumber,
        swift_code: recipientData.swiftCode,
        label: recipientData.label,
        currency: recipientData.currency,
        code: recipientData.code
      })
    });

    if (!response.ok) {
      throw new Error('Failed to create fiat recipient');
    }

    const recipient = await response.json();
    console.log('Fiat recipient created:', recipient);
    
    return recipient;
  } catch (error) {
    console.error('Error creating fiat recipient:', error);
    throw error;
  }
}
```

</CodeGroup>

## Recipient Management

### List Recipients

<CodeGroup>

```javascript JavaScript
async function getRecipients(filters = {}) {
  try {
    const params = new URLSearchParams();
    
    if (filters.type) params.append('type', filters.type);
    if (filters.currency) params.append('currency', filters.currency);
    if (filters.limit) params.append('limit', filters.limit);
    if (filters.page) params.append('page', filters.page);
    
    const response = await fetch(`https://api.railsfromthecrypt.com/v1/recipients?${params}`, {
      headers: {
        'Authorization': `Bearer ${accessToken}`
      }
    });

    if (!response.ok) {
      throw new Error('Failed to get recipients');
    }

    const recipients = await response.json();
    return recipients;
  } catch (error) {
    console.error('Error getting recipients:', error);
    throw error;
  }
}

// Usage examples
const allRecipients = await getRecipients();
const cryptoRecipients = await getRecipients({ type: 'crypto' });
const fiatRecipients = await getRecipients({ type: 'fiat' });
const usdcRecipients = await getRecipients({ currency: 'USDC' });
```

</CodeGroup>

### Get Recipient Details

<CodeGroup>

```javascript JavaScript
async function getRecipient(recipientId) {
  try {
    const response = await fetch(`https://api.railsfromthecrypt.com/v1/recipients/${recipientId}`, {
      headers: {
        'Authorization': `Bearer ${accessToken}`
      }
    });

    if (!response.ok) {
      throw new Error('Failed to get recipient');
    }

    const recipient = await response.json();
    return recipient;
  } catch (error) {
    console.error('Error getting recipient:', error);
    throw error;
  }
}
```

</CodeGroup>

### Update Recipient

<CodeGroup>

```javascript JavaScript
async function updateRecipient(recipientId, updateData) {
  try {
    const response = await fetch(`https://api.railsfromthecrypt.com/v1/recipients/${recipientId}`, {
      method: 'PATCH',
      headers: {
        'Authorization': `Bearer ${accessToken}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(updateData)
    });

    if (!response.ok) {
      throw new Error('Failed to update recipient');
    }

    const updatedRecipient = await response.json();
    console.log('Recipient updated:', updatedRecipient);
    
    return updatedRecipient;
  } catch (error) {
    console.error('Error updating recipient:', error);
    throw error;
  }
}

// Usage examples
await updateRecipient(recipientId, { label: 'New Label' });
await updateRecipient(recipientId, { code: 'NEW_CODE' });
```

</CodeGroup>

### Delete Recipient

<CodeGroup>

```javascript JavaScript
async function deleteRecipient(recipientId) {
  try {
    const response = await fetch(`https://api.railsfromthecrypt.com/v1/recipients/${recipientId}`, {
      method: 'DELETE',
      headers: {
        'Authorization': `Bearer ${accessToken}`
      }
    });

    if (!response.ok) {
      throw new Error('Failed to delete recipient');
    }

    console.log('Recipient deleted successfully');
    return true;
  } catch (error) {
    console.error('Error deleting recipient:', error);
    throw error;
  }
}
```

</CodeGroup>

## Recipient Validation

### Address Validation

<CodeGroup>

```javascript JavaScript
class RecipientValidator {
  static validateCryptoAddress(address, network) {
    const validators = {
      'Polygon': /^0x[a-fA-F0-9]{40}$/,
      'Ethereum': /^0x[a-fA-F0-9]{40}$/,
      'BSC': /^0x[a-fA-F0-9]{40}$/,
      'Arbitrum': /^0x[a-fA-F0-9]{40}$/
    };
    
    const validator = validators[network];
    if (!validator) {
      throw new Error(`Unsupported network: ${network}`);
    }
    
    return validator.test(address);
  }
  
  static validateFiatAccount(accountData) {
    const errors = [];
    
    if (!accountData.account_number) {
      errors.push('Account number is required');
    }
    
    if (!accountData.bank_name) {
      errors.push('Bank name is required');
    }
    
    if (!accountData.account_name) {
      errors.push('Account name is required');
    }
    
    if (accountData.currency === 'USD' && !accountData.routing_number) {
      errors.push('Routing number is required for USD accounts');
    }
    
    if (accountData.currency === 'NGN' && !accountData.swift_code) {
      errors.push('SWIFT code is required for NGN accounts');
    }
    
    return {
      isValid: errors.length === 0,
      errors: errors
    };
  }
}

// Usage
const isValidAddress = RecipientValidator.validateCryptoAddress(
  '0x1234567890abcdef1234567890abcdef12345678',
  'Polygon'
);

const fiatValidation = RecipientValidator.validateFiatAccount({
  account_number: '1234567890',
  bank_name: 'Test Bank',
  account_name: 'John Doe',
  currency: 'USD',
  routing_number: '123456789'
});
```

</CodeGroup>

## Using Recipients in Transfers

### Create Transfer with Recipient

<CodeGroup>

```javascript JavaScript
async function createTransferWithRecipient(transferData) {
  try {
    // Step 1: Validate recipient
    const recipient = await getRecipient(transferData.recipientId);
    
    if (!recipient) {
      throw new Error('Recipient not found');
    }
    
    // Step 2: Get exchange rate
    const rate = await getExchangeRate(transferData.currency, recipient.currency);
    
    // Step 3: Create transfer request
    const transfer = await fetch('https://api.railsfromthecrypt.com/v1/transfer-requests', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${accessToken}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        amount: transferData.amount,
        currency: transferData.currency,
        rate: rate.rate,
        pair: `${transferData.currency}/${recipient.currency}`,
        received_amount: rate.received_amount,
        fee: rate.fee,
        recipient_id: transferData.recipientId
      })
    });
    
    const transferResult = await transfer.json();
    console.log('Transfer created with recipient:', transferResult);
    
    return transferResult;
  } catch (error) {
    console.error('Error creating transfer with recipient:', error);
    throw error;
  }
}
```

</CodeGroup>

## Recipient Templates

### Common Recipient Patterns

<CodeGroup>

```javascript JavaScript
class RecipientTemplates {
  static getUSDCOnPolygon(walletAddress, label) {
    return {
      type: 'crypto',
      wallet_address: walletAddress,
      network: 'Polygon',
      label: label,
      currency: 'USDC',
      code: 'USDC_POLYGON'
    };
  }
  
  static getUSDCOnEthereum(walletAddress, label) {
    return {
      type: 'crypto',
      wallet_address: walletAddress,
      network: 'Ethereum',
      label: label,
      currency: 'USDC',
      code: 'USDC_ETHEREUM'
    };
  }
  
  static getUSDABank(accountNumber, bankName, accountName, routingNumber, label) {
    return {
      type: 'fiat',
      account_number: accountNumber,
      bank_name: bankName,
      account_name: accountName,
      routing_number: routingNumber,
      label: label,
      currency: 'USD',
      code: 'USD_BANK'
    };
  }
  
  static getNGNBank(accountNumber, bankName, accountName, swiftCode, label) {
    return {
      type: 'fiat',
      account_number: accountNumber,
      bank_name: bankName,
      account_name: accountName,
      swift_code: swiftCode,
      label: label,
      currency: 'NGN',
      code: 'NGN_BANK'
    };
  }
}

// Usage
const usdcRecipient = RecipientTemplates.getUSDCOnPolygon(
  '0x1234567890abcdef1234567890abcdef12345678',
  'My USDC Wallet'
);

const usdBankRecipient = RecipientTemplates.getUSDABank(
  '1234567890',
  'Chase Bank',
  'John Doe',
  '123456789',
  'My USD Bank Account'
);
```

</CodeGroup>

## Recipient Analytics

### Usage Statistics

<CodeGroup>

```javascript JavaScript
class RecipientAnalytics {
  constructor(apiClient) {
    this.apiClient = apiClient;
  }
  
  async getRecipientStats(recipientId) {
    try {
      const response = await fetch(`https://api.railsfromthecrypt.com/v1/recipients/${recipientId}/stats`, {
        headers: {
          'Authorization': `Bearer ${accessToken}`
        }
      });

      if (!response.ok) {
        throw new Error('Failed to get recipient stats');
      }

      const stats = await response.json();
      return stats;
    } catch (error) {
      console.error('Error getting recipient stats:', error);
      throw error;
    }
  }
  
  async getRecipientHistory(recipientId, filters = {}) {
    try {
      const params = new URLSearchParams();
      
      if (filters.start_date) params.append('start_date', filters.start_date);
      if (filters.end_date) params.append('end_date', filters.end_date);
      if (filters.limit) params.append('limit', filters.limit);
      if (filters.page) params.append('page', filters.page);
      
      const response = await fetch(`https://api.railsfromthecrypt.com/v1/recipients/${recipientId}/history?${params}`, {
        headers: {
          'Authorization': `Bearer ${accessToken}`
        }
      });

      if (!response.ok) {
        throw new Error('Failed to get recipient history');
      }

      const history = await response.json();
      return history;
    } catch (error) {
      console.error('Error getting recipient history:', error);
      throw error;
    }
  }
}
```

</CodeGroup>

## Best Practices

### Security

<AccordionGroup>
  <Accordion title="Address Validation">
    - Validate all wallet addresses
    - Check network compatibility
    - Implement address verification
    - Use checksum validation
  </Accordion>
  <Accordion title="Data Protection">
    - Encrypt sensitive recipient data
    - Implement access controls
    - Regular security audits
    - Follow compliance guidelines
  </Accordion>
  <Accordion title="Access Management">
    - Limit recipient access
    - Implement role-based permissions
    - Monitor recipient usage
    - Regular access reviews
  </Accordion>
</AccordionGroup>

### Performance

<AccordionGroup>
  <Accordion title="Caching">
    - Cache recipient data
    - Implement request deduplication
    - Use appropriate cache TTL
    - Monitor cache performance
  </Accordion>
  <Accordion title="Validation">
    - Client-side validation
    - Server-side verification
    - Real-time address checking
    - Error handling
  </Accordion>
  <Accordion title="Monitoring">
    - Track recipient usage
    - Monitor validation performance
    - Set up alerts for failures
    - Regular performance reviews
  </Accordion>
</AccordionGroup>

## Common Use Cases

### Multi-Recipient Transfers

<CodeGroup>

```javascript JavaScript
class MultiRecipientManager {
  constructor(apiClient) {
    this.apiClient = apiClient;
  }
  
  async createMultipleRecipients(recipientsData) {
    const recipients = [];
    
    for (const data of recipientsData) {
      try {
        const recipient = await this.createRecipient(data);
        recipients.push(recipient);
      } catch (error) {
        console.error(`Failed to create recipient: ${error.message}`);
        // Continue with other recipients
      }
    }
    
    return recipients;
  }
  
  async batchTransfer(transfers) {
    const results = [];
    
    for (const transfer of transfers) {
      try {
        const result = await this.createTransfer(transfer);
        results.push({ success: true, transfer: result });
      } catch (error) {
        results.push({ success: false, error: error.message });
      }
    }
    
    return results;
  }
}
```

</CodeGroup>

### Recipient Management Dashboard

<CodeGroup>

```javascript JavaScript
class RecipientDashboard {
  constructor(apiClient) {
    this.apiClient = apiClient;
  }
  
  async getDashboardData() {
    try {
      const [recipients, stats, recentTransfers] = await Promise.all([
        this.getRecipients(),
        this.getRecipientStats(),
        this.getRecentTransfers()
      ]);
      
      return {
        recipients: recipients,
        stats: stats,
        recentTransfers: recentTransfers,
        summary: this.generateSummary(recipients, stats)
      };
    } catch (error) {
      console.error('Failed to get dashboard data:', error);
      throw error;
    }
  }
  
  generateSummary(recipients, stats) {
    const cryptoRecipients = recipients.filter(r => r.type === 'crypto');
    const fiatRecipients = recipients.filter(r => r.type === 'fiat');
    
    return {
      totalRecipients: recipients.length,
      cryptoRecipients: cryptoRecipients.length,
      fiatRecipients: fiatRecipients.length,
      totalTransfers: stats.total_transfers,
      totalVolume: stats.total_volume
    };
  }
}
```

</CodeGroup>

## Troubleshooting

### Common Issues

<CardGroup cols={2}>
  <Card title="Invalid Address" icon="exclamation-triangle">
    - Check address format
    - Verify network compatibility
    - Ensure checksum validation
    - Test with small amounts
  </Card>
  <Card title="Recipient Not Found" icon="search">
    - Verify recipient ID
    - Check recipient status
    - Ensure proper permissions
    - Contact support if needed
  </Card>
  <Card title="Transfer Failed" icon="times">
    - Check recipient validity
    - Verify network status
    - Ensure sufficient funds
    - Review error messages
  </Card>
  <Card title="Validation Errors" icon="shield-exclamation">
    - Check required fields
    - Verify data formats
    - Review validation rules
    - Update recipient data
  </Card>
</CardGroup>

### Error Handling

<CodeGroup>

```javascript JavaScript
class RecipientErrorHandler {
  static handle(error, context = {}) {
    const errorMap = {
      'INVALID_ADDRESS': {
        message: 'Invalid wallet address format',
        action: 'Please check the address format and try again',
        retryable: true
      },
      'UNSUPPORTED_NETWORK': {
        message: 'Network not supported',
        action: 'Please use a supported network',
        retryable: false
      },
      'DUPLICATE_RECIPIENT': {
        message: 'Recipient already exists',
        action: 'Please use a different label or update existing recipient',
        retryable: false
      },
      'INVALID_BANK_DETAILS': {
        message: 'Invalid bank account details',
        action: 'Please verify bank account information',
        retryable: true
      }
    };
    
    const errorInfo = errorMap[error.code] || {
      message: 'An unexpected error occurred',
      action: 'Please contact support',
      retryable: false
    };
    
    return {
      ...errorInfo,
      code: error.code,
      context: context,
      timestamp: new Date().toISOString()
    };
  }
}
```

</CodeGroup>

## Support

### Getting Help

For recipient-related issues:

1. **Check recipient status** - Use the API to get current status
2. **Validate address format** - Ensure proper address format
3. **Contact support** - Email [support@hashrails.xyz](mailto:support@hashrails.xyz) with recipient details

### Resources

<CardGroup cols={2}>
  <Card
    title="API Reference"
    icon="book"
    href="/api/recipients/crypto"
  >
    Complete API documentation for recipients
  </Card>
  <Card
    title="Network Guide"
    icon="network-wired"
    href="/guides/blockchain-networks"
  >
    Supported blockchain networks
  </Card>
  <Card
    title="Error Handling"
    icon="exclamation-triangle"
    href="/concepts/error-handling"
  >
    Handle recipient-related errors
  </Card>
  <Card
    title="Support"
    icon="headset"
    href="mailto:support@hashrails.xyz"
  >
    Get help from our support team
  </Card>
</CardGroup>
